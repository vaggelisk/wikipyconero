{"remainingRequest":"/home/kantro/WebstormProjects/wikipyconero/node_modules/babel-loader/lib/index.js??ref--0-1!/home/kantro/WebstormProjects/wikipyconero/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kantro/WebstormProjects/wikipyconero/client/components/editor/editor-asciidoc.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kantro/WebstormProjects/wikipyconero/client/components/editor/editor-asciidoc.vue","mtime":1715470628315},{"path":"/home/kantro/WebstormProjects/wikipyconero/.babelrc","mtime":1695287603859},{"path":"/home/kantro/WebstormProjects/wikipyconero/node_modules/cache-loader/dist/cjs.js","mtime":1694896091905},{"path":"/home/kantro/WebstormProjects/wikipyconero/node_modules/babel-loader/lib/index.js","mtime":1694896091857},{"path":"/home/kantro/WebstormProjects/wikipyconero/node_modules/vue-loader/lib/index.js","mtime":1695231282570}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zZXQgZnJvbSAibG9kYXNoL3NldCI7CmltcG9ydCBfbGFzdCBmcm9tICJsb2Rhc2gvbGFzdCI7CmltcG9ydCBfc3RhcnRzV2l0aCBmcm9tICJsb2Rhc2gvc3RhcnRzV2l0aCI7CmltcG9ydCBfdGltZXMgZnJvbSAibG9kYXNoL3RpbWVzIjsKaW1wb3J0IF9mbGF0dGVuIGZyb20gImxvZGFzaC9mbGF0dGVuIjsKaW1wb3J0IF9kZWJvdW5jZSBmcm9tICJsb2Rhc2gvZGVib3VuY2UiOyAvLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXQsIHN5bmMgfSBmcm9tICd2dWV4LXBhdGhpZnknOwppbXBvcnQgRE9NUHVyaWZ5IGZyb20gJ2RvbXB1cmlmeSc7CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIElNUE9SVFMKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLy8gQ29kZSBNaXJyb3IKaW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnY29kZW1pcnJvcic7CmltcG9ydCAnY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5jc3MnOwoKLy8gTGFuZ3VhZ2UKaW1wb3J0ICdjb2RlbWlycm9yLWFzY2lpZG9jJzsKCi8vIEFkZG9ucwppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VsZWN0aW9uL2FjdGl2ZS1saW5lLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvZnVsbHNjcmVlbi5qcyc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9kaXNwbGF5L2Z1bGxzY3JlZW4uY3NzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL3NlbGVjdGlvbi9tYXJrLXNlbGVjdGlvbi5qcyc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWFyY2gvc2VhcmNoY3Vyc29yLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2hpbnQvc2hvdy1oaW50LmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGNvZGUuanMnOwppbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZm9sZC9mb2xkZ3V0dGVyLmpzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGd1dHRlci5jc3MnOwppbXBvcnQgY21Gb2xkIGZyb20gJy4vY29tbW9uL2NtRm9sZCc7CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIElOSVQKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpjb25zdCBhc2NpaWRvY3RvciA9IHJlcXVpcmUoJ2FzY2lpZG9jdG9yJykoKTsKY29uc3QgY2hlZXJpbyA9IHJlcXVpcmUoJ2NoZWVyaW8nKTsKCi8vIFBsYXRmb3JtIGRldGVjdGlvbgpjb25zdCBDdHJsS2V5ID0gL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pID8gJ0NtZCcgOiAnQ3RybCc7CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIEhFTFBFUiBGVU5DVElPTlMKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY21Gb2xkLnJlZ2lzdGVyKCdhc2NpaWRvYycpOwoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBWdWUgQ29tcG9uZW50Ci8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY206IG51bGwsCiAgICAgIGN1cnNvclBvczogewogICAgICAgIGNoOiAwLAogICAgICAgIGxpbmU6IDEKICAgICAgfSwKICAgICAgcHJldmlld1Nob3duOiB0cnVlLAogICAgICAvLyBUT0RPCiAgICAgIGluc2VydExpbmtEaWFsb2c6IGZhbHNlLAogICAgICBoZWxwU2hvd246IGZhbHNlLAogICAgICBwcmV2aWV3SFRNTDogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNNb2JpbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQuc21BbmREb3duOwogICAgfSwKICAgIGlzTW9kYWxTaG93bigpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVscFNob3duIHx8IHRoaXMuYWN0aXZlTW9kYWwgIT09ICcnOwogICAgfSwKICAgIGxvY2FsZTogZ2V0KCdwYWdlL2xvY2FsZScpLAogICAgcGF0aDogZ2V0KCdwYWdlL3BhdGgnKSwKICAgIG1vZGU6IGdldCgnZWRpdG9yL21vZGUnKSwKICAgIGFjdGl2ZU1vZGFsOiBzeW5jKCdlZGl0b3IvYWN0aXZlTW9kYWwnKQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlTW9kYWwoa2V5KSB7CiAgICAgIHRoaXMuYWN0aXZlTW9kYWwgPSB0aGlzLmFjdGl2ZU1vZGFsID09PSBrZXkgPyAnJyA6IGtleTsKICAgICAgdGhpcy5oZWxwU2hvd24gPSBmYWxzZTsKICAgIH0sCiAgICBjbG9zZUFsbE1vZGFsKCkgewogICAgICB0aGlzLmFjdGl2ZU1vZGFsID0gJyc7CiAgICAgIHRoaXMuaGVscFNob3duID0gZmFsc2U7CiAgICB9LAogICAgb25DbUlucHV0OiBfZGVib3VuY2UoZnVuY3Rpb24gKG5ld0NvbnRlbnQpIHsKICAgICAgdGhpcy5wcm9jZXNzQ29udGVudChuZXdDb250ZW50KTsKICAgIH0sIDYwMCksCiAgICBwcm9jZXNzQ29udGVudChuZXdDb250ZW50KSB7CiAgICAgIHRoaXMucHJvY2Vzc01hcmtlcnModGhpcy5jbS5maXJzdExpbmUoKSwgdGhpcy5jbS5sYXN0TGluZSgpKTsKICAgICAgbGV0IGh0bWwgPSBhc2NpaWRvY3Rvci5jb252ZXJ0KG5ld0NvbnRlbnQsIHsKICAgICAgICBzdGFuZGFsb25lOiBmYWxzZSwKICAgICAgICBzYWZlOiAnc2FmZScsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgc2hvd3RpdGxlOiB0cnVlLAogICAgICAgICAgaWNvbnM6ICdmb250JwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnN0ICQgPSBjaGVlcmlvLmxvYWQoaHRtbCwgewogICAgICAgIGRlY29kZUVudGl0aWVzOiB0cnVlCiAgICAgIH0pOwogICAgICAkKCdwcmUuaGlnaGxpZ2h0ID4gY29kZS5sYW5ndWFnZS1kaWFncmFtJykuZWFjaCgoaSwgZWxtKSA9PiB7CiAgICAgICAgY29uc3QgZGlhZ3JhbUNvbnRlbnQgPSBCdWZmZXIuZnJvbSgkKGVsbSkuaHRtbCgpLCAnYmFzZTY0JykudG9TdHJpbmcoKTsKICAgICAgICAkKGVsbSkucGFyZW50KCkucmVwbGFjZVdpdGgoYDxwcmUgY2xhc3M9ImRpYWdyYW0iPiR7ZGlhZ3JhbUNvbnRlbnR9PC9kaXY+YCk7CiAgICAgIH0pOwogICAgICB0aGlzLnByZXZpZXdIVE1MID0gRE9NUHVyaWZ5LnNhbml0aXplKCQuaHRtbCgpLCB7CiAgICAgICAgQUREX1RBR1M6IFsnZm9yZWlnbk9iamVjdCddCiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICogSW5zZXJ0IGNvbnRlbnQgYXQgY3Vyc29yCiAgICAgKi8KICAgIGluc2VydEF0Q3Vyc29yKF9yZWYpIHsKICAgICAgbGV0IHsKICAgICAgICBjb250ZW50CiAgICAgIH0gPSBfcmVmOwogICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLmNtLmRvYy5nZXRDdXJzb3IoJ2hlYWQnKTsKICAgICAgdGhpcy5jbS5kb2MucmVwbGFjZVJhbmdlKGNvbnRlbnQsIGN1cnNvcik7CiAgICB9LAogICAgLyoqCiAgICAgKiBJbnNlcnQgY29udGVudCBhZnRlciBjdXJyZW50IGxpbmUKICAgICAqLwogICAgaW5zZXJ0QWZ0ZXIoX3JlZjIpIHsKICAgICAgbGV0IHsKICAgICAgICBjb250ZW50LAogICAgICAgIG5ld0xpbmUKICAgICAgfSA9IF9yZWYyOwogICAgICBjb25zdCBjdXJMaW5lID0gdGhpcy5jbS5kb2MuZ2V0Q3Vyc29yKCd0bycpLmxpbmU7CiAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSB0aGlzLmNtLmRvYy5nZXRMaW5lKGN1ckxpbmUpLmxlbmd0aDsKICAgICAgdGhpcy5jbS5kb2MucmVwbGFjZVJhbmdlKG5ld0xpbmUgPyBgXG4ke2NvbnRlbnR9XG5gIDogY29udGVudCwgewogICAgICAgIGxpbmU6IGN1ckxpbmUsCiAgICAgICAgY2g6IGxpbmVMZW5ndGggKyAxCiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICogSW5zZXJ0IGNvbnRlbnQgYmVmb3JlIGN1cnJlbnQgbGluZQogICAgICovCiAgICBpbnNlcnRCZWZvcmVFYWNoTGluZShfcmVmMykgewogICAgICBsZXQgewogICAgICAgIGNvbnRlbnQsCiAgICAgICAgYWZ0ZXIKICAgICAgfSA9IF9yZWYzOwogICAgICBsZXQgbGluZXMgPSBbXTsKICAgICAgaWYgKCF0aGlzLmNtLmRvYy5zb21ldGhpbmdTZWxlY3RlZCgpKSB7CiAgICAgICAgbGluZXMucHVzaCh0aGlzLmNtLmRvYy5nZXRDdXJzb3IoJ2hlYWQnKS5saW5lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsaW5lcyA9IF9mbGF0dGVuKHRoaXMuY20uZG9jLmxpc3RTZWxlY3Rpb25zKCkubWFwKHNsID0+IHsKICAgICAgICAgIGNvbnN0IHJhbmdlID0gTWF0aC5hYnMoc2wuYW5jaG9yLmxpbmUgLSBzbC5oZWFkLmxpbmUpICsgMTsKICAgICAgICAgIGNvbnN0IGxvd2VzdExpbmUgPSBzbC5hbmNob3IubGluZSA+IHNsLmhlYWQubGluZSA/IHNsLmhlYWQubGluZSA6IHNsLmFuY2hvci5saW5lOwogICAgICAgICAgcmV0dXJuIF90aW1lcyhyYW5nZSwgbCA9PiBsICsgbG93ZXN0TGluZSk7CiAgICAgICAgfSkpOwogICAgICB9CiAgICAgIGxpbmVzLmZvckVhY2gobG4gPT4gewogICAgICAgIGxldCBsaW5lQ29udGVudCA9IHRoaXMuY20uZG9jLmdldExpbmUobG4pOwogICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lQ29udGVudC5sZW5ndGg7CiAgICAgICAgaWYgKF9zdGFydHNXaXRoKGxpbmVDb250ZW50LCBjb250ZW50KSkgewogICAgICAgICAgbGluZUNvbnRlbnQgPSBsaW5lQ29udGVudC5zdWJzdHJpbmcoY29udGVudC5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNtLmRvYy5yZXBsYWNlUmFuZ2UoY29udGVudCArIGxpbmVDb250ZW50LCB7CiAgICAgICAgICBsaW5lOiBsbiwKICAgICAgICAgIGNoOiAwCiAgICAgICAgfSwgewogICAgICAgICAgbGluZTogbG4sCiAgICAgICAgICBjaDogbGluZUxlbmd0aAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgaWYgKGFmdGVyKSB7CiAgICAgICAgY29uc3QgbGFzdExpbmUgPSBfbGFzdChsaW5lcyk7CiAgICAgICAgdGhpcy5jbS5kb2MucmVwbGFjZVJhbmdlKGBcbiR7YWZ0ZXJ9XG5gLCB7CiAgICAgICAgICBsaW5lOiBsYXN0TGluZSwKICAgICAgICAgIGNoOiB0aGlzLmNtLmRvYy5nZXRMaW5lKGxhc3RMaW5lKS5sZW5ndGggKyAxCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIFVwZGF0ZSBjdXJzb3Igc3RhdGUKICAgICAqLwogICAgcG9zaXRpb25TeW5jKGNtKSB7CiAgICAgIHRoaXMuY3Vyc29yUG9zID0gY20uZ2V0Q3Vyc29yKCdoZWFkJyk7CiAgICB9LAogICAgdG9nZ2xlTWFya3VwKF9yZWY0KSB7CiAgICAgIGxldCB7CiAgICAgICAgc3RhcnQsCiAgICAgICAgZW5kCiAgICAgIH0gPSBfcmVmNDsKICAgICAgaWYgKCFlbmQpIHsKICAgICAgICBlbmQgPSBzdGFydDsKICAgICAgfQogICAgICBpZiAoIXRoaXMuY20uZG9jLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuY29tbWl0KCdzaG93Tm90aWZpY2F0aW9uJywgewogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZWRpdG9yOm1hcmt1cC5ub1NlbGVjdGlvbkVycm9yJyksCiAgICAgICAgICBzdHlsZTogJ3dhcm5pbmcnLAogICAgICAgICAgaWNvbjogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5jbS5kb2MucmVwbGFjZVNlbGVjdGlvbnModGhpcy5jbS5kb2MuZ2V0U2VsZWN0aW9ucygpLm1hcChzID0+IHN0YXJ0ICsgcyArIGVuZCkpOwogICAgfSwKICAgIHNldEhlYWRlckxpbmUobHZsKSB7CiAgICAgIGNvbnN0IGN1ckxpbmUgPSB0aGlzLmNtLmRvYy5nZXRDdXJzb3IoJ2hlYWQnKS5saW5lOwogICAgICBsZXQgbGluZUNvbnRlbnQgPSB0aGlzLmNtLmRvYy5nZXRMaW5lKGN1ckxpbmUpOwogICAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZUNvbnRlbnQubGVuZ3RoOwogICAgICBpZiAoX3N0YXJ0c1dpdGgobGluZUNvbnRlbnQsICc9JykpIHsKICAgICAgICBsaW5lQ29udGVudCA9IGxpbmVDb250ZW50LnJlcGxhY2UoL14oPSsgKS8sICcnKTsKICAgICAgfQogICAgICBsaW5lQ29udGVudCA9IF90aW1lcyhsdmwsIG4gPT4gJz0nKS5qb2luKCcnKSArIGAgYCArIGxpbmVDb250ZW50OwogICAgICB0aGlzLmNtLmRvYy5yZXBsYWNlUmFuZ2UobGluZUNvbnRlbnQsIHsKICAgICAgICBsaW5lOiBjdXJMaW5lLAogICAgICAgIGNoOiAwCiAgICAgIH0sIHsKICAgICAgICBsaW5lOiBjdXJMaW5lLAogICAgICAgIGNoOiBsaW5lTGVuZ3RoCiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZUZ1bGxzY3JlZW4oKSB7CiAgICAgIHRoaXMuY20uc2V0T3B0aW9uKCdmdWxsU2NyZWVuJywgdHJ1ZSk7CiAgICB9LAogICAgcmVmcmVzaCgpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuY20ucmVmcmVzaCgpOwogICAgICB9KTsKICAgIH0sCiAgICBpbnNlcnRMaW5rKCkgewogICAgICB0aGlzLmluc2VydExpbmtEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGluc2VydExpbmtIYW5kbGVyKF9yZWY1KSB7CiAgICAgIGxldCB7CiAgICAgICAgbG9jYWxlLAogICAgICAgIHBhdGgKICAgICAgfSA9IF9yZWY1OwogICAgICBjb25zdCBsYXN0UGFydCA9IF9sYXN0KHBhdGguc3BsaXQoJy8nKSk7CiAgICAgIHRoaXMuaW5zZXJ0QXRDdXJzb3IoewogICAgICAgIGNvbnRlbnQ6IHNpdGVMYW5ncy5sZW5ndGggPiAwID8gYGxpbms6LyR7bG9jYWxlfS8ke3BhdGh9WyR7bGFzdFBhcnR9XWAgOiBgbGluazovJHtwYXRofVske2xhc3RQYXJ0fV1gCiAgICAgIH0pOwogICAgfSwKICAgIHByb2Nlc3NNYXJrZXJzKGZyb20sIHRvKSB7CiAgICAgIGxldCBmb3VuZCA9IG51bGw7CiAgICAgIGxldCBmb3VuZFN0YXJ0ID0gMDsKICAgICAgdGhpcy5jbS5kb2MuZ2V0QWxsTWFya3MoKS5mb3JFYWNoKG1rID0+IHsKICAgICAgICBpZiAobWsuX19raW5kKSB7CiAgICAgICAgICBtay5jbGVhcigpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuY20uZWFjaExpbmUoZnJvbSwgdG8sIGxuID0+IHsKICAgICAgICBjb25zdCBsaW5lID0gbG4ubGluZU5vKCk7CiAgICAgICAgaWYgKGxuLnRleHQuc3RhcnRzV2l0aCgnYGBgZGlhZ3JhbScpKSB7CiAgICAgICAgICBmb3VuZCA9ICdkaWFncmFtJzsKICAgICAgICAgIGZvdW5kU3RhcnQgPSBsaW5lOwogICAgICAgIH0gZWxzZSBpZiAobG4udGV4dCA9PT0gJ2BgYCcgJiYgZm91bmQpIHsKICAgICAgICAgIHN3aXRjaCAoZm91bmQpIHsKICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgIC8vIC0+IERJQUdSQU0KICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgIGNhc2UgJ2RpYWdyYW0nOgogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChsaW5lIC0gZm91bmRTdGFydCAhPT0gMikgewogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmFkZE1hcmtlcih7CiAgICAgICAgICAgICAgICAgIGtpbmQ6ICdkaWFncmFtJywKICAgICAgICAgICAgICAgICAgZnJvbTogewogICAgICAgICAgICAgICAgICAgIGxpbmU6IGZvdW5kU3RhcnQsCiAgICAgICAgICAgICAgICAgICAgY2g6IDMKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdG86IHsKICAgICAgICAgICAgICAgICAgICBsaW5lOiBmb3VuZFN0YXJ0LAogICAgICAgICAgICAgICAgICAgIGNoOiAxMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB0ZXh0OiAnRWRpdCBEaWFncmFtJywKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKHN0YXJ0LCBlbmQpID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXYgPT4gewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbS5kb2Muc2V0U2VsZWN0aW9uKHsKICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNoOiAwCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IGVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgY2g6IDMKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gdGhpcy5jbS5kb2MuZ2V0TGluZShlbmQgLSAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc2V0KCdlZGl0b3IvYWN0aXZlTW9kYWxEYXRhJywgQnVmZmVyLmZyb20ocmF3LCAnYmFzZTY0JykudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTW9kYWwoYGVkaXRvck1vZGFsRHJhd2lvYCk7CiAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd05vdGlmaWNhdGlvbicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3MgZGlhZ3JhbSBkYXRhLicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSkoZm91bmRTdGFydCwgbGluZSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKGxuLmhlaWdodCA+IDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5jbS5mb2xkQ29kZShmb3VuZFN0YXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZvdW5kID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZE1hcmtlcihfcmVmNikgewogICAgICBsZXQgewogICAgICAgIGtpbmQsCiAgICAgICAgZnJvbSwKICAgICAgICB0bywKICAgICAgICB0ZXh0LAogICAgICAgIGFjdGlvbgogICAgICB9ID0gX3JlZjY7CiAgICAgIGNvbnN0IG1hcmtlckVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgbWFya2VyRWxtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTsKICAgICAgbWFya2VyRWxtLmNsYXNzTmFtZSA9ICdDb2RlTWlycm9yLWJ1dHRvbm1hcmtlcic7CiAgICAgIG1hcmtlckVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFjdGlvbik7CiAgICAgIHRoaXMuY20ubWFya1RleHQoZnJvbSwgdG8sIHsKICAgICAgICByZXBsYWNlZFdpdGg6IG1hcmtlckVsbSwKICAgICAgICBfX2tpbmQ6IGtpbmQKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuc2V0KCdlZGl0b3IvZWRpdG9yS2V5JywgJ2FzY2lpZG9jJyk7CiAgICBpZiAodGhpcy5tb2RlID09PSAnY3JlYXRlJykgewogICAgICB0aGlzLiRzdG9yZS5zZXQoJ2VkaXRvci9jb250ZW50JywgJz09IGhlYWRlclxuXG5jb250ZW50Jyk7CiAgICB9CgogICAgLy8gSW5pdGlhbGl6ZSBDb2RlTWlycm9yCgogICAgdGhpcy5jbSA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKHRoaXMuJHJlZnMuY20sIHsKICAgICAgdGFiU2l6ZTogMiwKICAgICAgbW9kZTogJ2FzY2lpZG9jJywKICAgICAgdGhlbWU6ICd3aWtpanMtZGFyaycsCiAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLAogICAgICBsaW5lV3JhcHBpbmc6IHRydWUsCiAgICAgIGxpbmU6IHRydWUsCiAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSwKICAgICAgaGlnaGxpZ2h0U2VsZWN0aW9uTWF0Y2hlczogewogICAgICAgIGFubm90YXRlU2Nyb2xsYmFyOiB0cnVlCiAgICAgIH0sCiAgICAgIHZpZXdwb3J0TWFyZ2luOiA1MCwKICAgICAgaW5wdXRTdHlsZTogJ2NvbnRlbnRlZGl0YWJsZScsCiAgICAgIGFsbG93RHJvcEZpbGVUeXBlczogWydpbWFnZS9qcGcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL3N2ZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZiddLAogICAgICBkaXJlY3Rpb246IHNpdGVDb25maWcucnRsID8gJ3J0bCcgOiAnbHRyJywKICAgICAgZm9sZEd1dHRlcjogdHJ1ZSwKICAgICAgZ3V0dGVyczogWydDb2RlTWlycm9yLWxpbmVudW1iZXJzJywgJ0NvZGVNaXJyb3ItZm9sZGd1dHRlciddCiAgICB9KTsKICAgIHRoaXMuY20uc2V0VmFsdWUodGhpcy4kc3RvcmUuZ2V0KCdlZGl0b3IvY29udGVudCcpKTsKICAgIHRoaXMuY20ub24oJ2NoYW5nZScsIGMgPT4gewogICAgICB0aGlzLiRzdG9yZS5zZXQoJ2VkaXRvci9jb250ZW50JywgYy5nZXRWYWx1ZSgpKTsKICAgICAgdGhpcy5vbkNtSW5wdXQodGhpcy4kc3RvcmUuZ2V0KCdlZGl0b3IvY29udGVudCcpKTsKICAgIH0pOwogICAgaWYgKHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5tZEFuZFVwKSB7CiAgICAgIHRoaXMuY20uc2V0U2l6ZShudWxsLCAnY2FsYygxMDB2aCAtIDEzN3B4KScpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jbS5zZXRTaXplKG51bGwsICdjYWxjKDEwMHZoIC0gMTEycHggLSAxNnB4KScpOwogICAgfQoKICAgIC8vIFNldCBLZXliaW5kaW5ncwoKICAgIGNvbnN0IGtleUJpbmRpbmdzID0gewogICAgICAnRjExJyhjKSB7CiAgICAgICAgYy5zZXRPcHRpb24oJ2Z1bGxTY3JlZW4nLCAhYy5nZXRPcHRpb24oJ2Z1bGxTY3JlZW4nKSk7CiAgICAgIH0sCiAgICAgICdFc2MnKGMpIHsKICAgICAgICBpZiAoYy5nZXRPcHRpb24oJ2Z1bGxTY3JlZW4nKSkgYy5zZXRPcHRpb24oJ2Z1bGxTY3JlZW4nLCBmYWxzZSk7CiAgICAgIH0KICAgIH07CiAgICBfc2V0KGtleUJpbmRpbmdzLCBgJHtDdHJsS2V5fS1CYCwgYyA9PiB7CiAgICAgIHRoaXMudG9nZ2xlTWFya3VwKHsKICAgICAgICBzdGFydDogYCoqYAogICAgICB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgICBfc2V0KGtleUJpbmRpbmdzLCBgJHtDdHJsS2V5fS1JYCwgYyA9PiB7CiAgICAgIHRoaXMudG9nZ2xlTWFya3VwKHsKICAgICAgICBzdGFydDogYF9fYAogICAgICB9KTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgICB0aGlzLmNtLnNldE9wdGlvbignZXh0cmFLZXlzJywga2V5QmluZGluZ3MpOwoKICAgIC8vIEhhbmRsZSBjdXJzb3IgbW92ZW1lbnQKCiAgICB0aGlzLmNtLm9uKCdjdXJzb3JBY3Rpdml0eScsIGMgPT4gewogICAgICB0aGlzLnBvc2l0aW9uU3luYyhjKTsKICAgIH0pOwoKICAgIC8vIFJlbmRlciBpbml0aWFsIHByZXZpZXcKICAgIHRoaXMucHJvY2Vzc0NvbnRlbnQodGhpcy4kc3RvcmUuZ2V0KCdlZGl0b3IvY29udGVudCcpKTsKICAgIHRoaXMuJHJvb3QuJG9uKCdlZGl0b3JJbnNlcnQnLCBvcHRzID0+IHsKICAgICAgc3dpdGNoIChvcHRzLmtpbmQpIHsKICAgICAgICBjYXNlICdJTUFHRSc6CiAgICAgICAgICBsZXQgaW1nID0gYGltYWdlOjoke29wdHMucGF0aH1bJHtvcHRzLnRleHR9XWA7CiAgICAgICAgICB0aGlzLmluc2VydEF0Q3Vyc29yKHsKICAgICAgICAgICAgY29udGVudDogaW1nCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ0JJTkFSWSc6CiAgICAgICAgICB0aGlzLmluc2VydEF0Q3Vyc29yKHsKICAgICAgICAgICAgY29udGVudDogYGxpbms6JHtvcHRzLnBhdGh9WyR7b3B0cy50ZXh0fV1gCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ0RJQUdSQU0nOgogICAgICAgICAgY29uc3Qgc2VsU3RhcnRMaW5lID0gdGhpcy5jbS5nZXRDdXJzb3IoJ2Zyb20nKS5saW5lOwogICAgICAgICAgY29uc3Qgc2VsRW5kTGluZSA9IHRoaXMuY20uZ2V0Q3Vyc29yKCd0bycpLmxpbmUgKyAxOwogICAgICAgICAgdGhpcy5jbS5kb2MucmVwbGFjZVNlbGVjdGlvbignYGBgZGlhZ3JhbVxuJyArIG9wdHMudGV4dCArICdcbmBgYFxuJywgJ3N0YXJ0Jyk7CiAgICAgICAgICB0aGlzLnByb2Nlc3NNYXJrZXJzKHNlbFN0YXJ0TGluZSwgc2VsRW5kTGluZSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSk7CgogICAgLy8gSGFuZGxlIHNhdmUgY29uZmxpY3QKICAgIHRoaXMuJHJvb3QuJG9uKCdzYXZlQ29uZmxpY3QnLCAoKSA9PiB7CiAgICAgIHRoaXMudG9nZ2xlTW9kYWwoYGVkaXRvck1vZGFsQ29uZmxpY3RgKTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oJ292ZXJ3cml0ZUVkaXRvckNvbnRlbnQnLCAoKSA9PiB7CiAgICAgIHRoaXMuY20uc2V0VmFsdWUodGhpcy4kc3RvcmUuZ2V0KCdlZGl0b3IvY29udGVudCcpKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuJHJvb3QuJG9mZignZWRpdG9ySW5zZXJ0Jyk7CiAgfQp9Ow=="},null]}