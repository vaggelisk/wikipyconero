{"remainingRequest":"/home/kantro/WebstormProjects/wikipyconero/node_modules/babel-loader/lib/index.js??ref--0-1!/home/kantro/WebstormProjects/wikipyconero/node_modules/vuetify/lib/components/VDataTable/VDataTable.js","dependencies":[{"path":"/home/kantro/WebstormProjects/wikipyconero/node_modules/vuetify/lib/components/VDataTable/VDataTable.js","mtime":1695231284816},{"path":"/home/kantro/WebstormProjects/wikipyconero/node_modules/cache-loader/dist/cjs.js","mtime":1694896091905},{"path":"/home/kantro/WebstormProjects/wikipyconero/node_modules/babel-loader/lib/index.js","mtime":1694896091857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WRGF0YVRhYmxlL1ZEYXRhVGFibGUuc2FzcyI7IC8vIENvbXBvbmVudHMKCmltcG9ydCB7IFZEYXRhIH0gZnJvbSAnLi4vVkRhdGEnOwppbXBvcnQgeyBWRGF0YUZvb3RlciwgVkRhdGFJdGVyYXRvciB9IGZyb20gJy4uL1ZEYXRhSXRlcmF0b3InOwppbXBvcnQgVkJ0biBmcm9tICcuLi9WQnRuJzsKaW1wb3J0IFZEYXRhVGFibGVIZWFkZXIgZnJvbSAnLi9WRGF0YVRhYmxlSGVhZGVyJzsgLy8gaW1wb3J0IFZWaXJ0dWFsVGFibGUgZnJvbSAnLi9WVmlydHVhbFRhYmxlJwoKaW1wb3J0IFZJY29uIGZyb20gJy4uL1ZJY29uJzsKaW1wb3J0IFJvdyBmcm9tICcuL1Jvdyc7CmltcG9ydCBSb3dHcm91cCBmcm9tICcuL1Jvd0dyb3VwJzsKaW1wb3J0IFZTaW1wbGVDaGVja2JveCBmcm9tICcuLi9WQ2hlY2tib3gvVlNpbXBsZUNoZWNrYm94JzsKaW1wb3J0IFZTaW1wbGVUYWJsZSBmcm9tICcuL1ZTaW1wbGVUYWJsZSc7CmltcG9ydCBNb2JpbGVSb3cgZnJvbSAnLi9Nb2JpbGVSb3cnOyAvLyBNaXhpbnMKCmltcG9ydCBMb2FkYWJsZSBmcm9tICcuLi8uLi9taXhpbnMvbG9hZGFibGUnOyAvLyBEaXJlY3RpdmVzCgppbXBvcnQgcmlwcGxlIGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvcmlwcGxlJzsgLy8gSGVscGVycwoKaW1wb3J0IG1peGlucyBmcm9tICcuLi8uLi91dGlsL21peGlucyc7CmltcG9ydCB7IGRlZXBFcXVhbCwgZ2V0T2JqZWN0VmFsdWVCeVBhdGgsIGdldFByZWZpeGVkU2NvcGVkU2xvdHMsIGdldFNsb3QsIGRlZmF1bHRGaWx0ZXIsIGNhbWVsaXplT2JqZWN0S2V5cywgZ2V0UHJvcGVydHlGcm9tSXRlbSB9IGZyb20gJy4uLy4uL3V0aWwvaGVscGVycyc7CmltcG9ydCB7IGJyZWFraW5nIH0gZnJvbSAnLi4vLi4vdXRpbC9jb25zb2xlJzsKaW1wb3J0IHsgbWVyZ2VDbGFzc2VzIH0gZnJvbSAnLi4vLi4vdXRpbC9tZXJnZURhdGEnOwpmdW5jdGlvbiBmaWx0ZXJGbihpdGVtLCBzZWFyY2gsIGZpbHRlcikgewogIHJldHVybiBoZWFkZXIgPT4gewogICAgY29uc3QgdmFsdWUgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChpdGVtLCBoZWFkZXIudmFsdWUpOwogICAgcmV0dXJuIGhlYWRlci5maWx0ZXIgPyBoZWFkZXIuZmlsdGVyKHZhbHVlLCBzZWFyY2gsIGl0ZW0pIDogZmlsdGVyKHZhbHVlLCBzZWFyY2gsIGl0ZW0pOwogIH07Cn0KZnVuY3Rpb24gc2VhcmNoVGFibGVJdGVtcyhpdGVtcywgc2VhcmNoLCBoZWFkZXJzV2l0aEN1c3RvbUZpbHRlcnMsIGhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycywgY3VzdG9tRmlsdGVyKSB7CiAgc2VhcmNoID0gdHlwZW9mIHNlYXJjaCA9PT0gJ3N0cmluZycgPyBzZWFyY2gudHJpbSgpIDogbnVsbDsKICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gewogICAgLy8gSGVhZGVycyB3aXRoIGN1c3RvbSBmaWx0ZXJzIGFyZSBldmFsdWF0ZWQgd2hldGhlciBvciBub3QgYSBzZWFyY2ggdGVybSBoYXMgYmVlbiBwcm92aWRlZC4KICAgIC8vIFdlIG5lZWQgdG8gbWF0Y2ggZXZlcnkgZmlsdGVyIHRvIGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHRzLgogICAgY29uc3QgbWF0Y2hlc0NvbHVtbkZpbHRlcnMgPSBoZWFkZXJzV2l0aEN1c3RvbUZpbHRlcnMuZXZlcnkoZmlsdGVyRm4oaXRlbSwgc2VhcmNoLCBkZWZhdWx0RmlsdGVyKSk7IC8vIEhlYWRlcnMgd2l0aG91dCBjdXN0b20gZmlsdGVycyBhcmUgb25seSBmaWx0ZXJlZCBieSB0aGUgYHNlYXJjaGAgcHJvcGVydHkgaWYgaXQgaXMgZGVmaW5lZC4KICAgIC8vIFdlIG9ubHkgbmVlZCBhIHNpbmdsZSBjb2x1bW4gdG8gbWF0Y2ggdGhlIHNlYXJjaCB0ZXJtIHRvIGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHRzLgoKICAgIGNvbnN0IG1hdGNoZXNTZWFyY2hUZXJtID0gIXNlYXJjaCB8fCBoZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnMuc29tZShmaWx0ZXJGbihpdGVtLCBzZWFyY2gsIGN1c3RvbUZpbHRlcikpOwogICAgcmV0dXJuIG1hdGNoZXNDb2x1bW5GaWx0ZXJzICYmIG1hdGNoZXNTZWFyY2hUZXJtOwogIH0pOwp9Ci8qIEB2dWUvY29tcG9uZW50ICovCgpleHBvcnQgZGVmYXVsdCBtaXhpbnMoVkRhdGFJdGVyYXRvciwgTG9hZGFibGUpLmV4dGVuZCh7CiAgbmFtZTogJ3YtZGF0YS10YWJsZScsCiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvNjg3MgogIGRpcmVjdGl2ZXM6IHsKICAgIHJpcHBsZQogIH0sCiAgcHJvcHM6IHsKICAgIGhlYWRlcnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgc2hvd1NlbGVjdDogQm9vbGVhbiwKICAgIHNob3dFeHBhbmQ6IEJvb2xlYW4sCiAgICBzaG93R3JvdXBCeTogQm9vbGVhbiwKICAgIC8vIFRPRE86IEZpeAogICAgLy8gdmlydHVhbFJvd3M6IEJvb2xlYW4sCiAgICBoZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sCiAgICBoaWRlRGVmYXVsdEhlYWRlcjogQm9vbGVhbiwKICAgIGNhcHRpb246IFN0cmluZywKICAgIGRlbnNlOiBCb29sZWFuLAogICAgaGVhZGVyUHJvcHM6IE9iamVjdCwKICAgIGNhbGN1bGF0ZVdpZHRoczogQm9vbGVhbiwKICAgIGZpeGVkSGVhZGVyOiBCb29sZWFuLAogICAgaGVhZGVyc0xlbmd0aDogTnVtYmVyLAogICAgZXhwYW5kSWNvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICckZXhwYW5kJwogICAgfSwKICAgIGN1c3RvbUZpbHRlcjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZGVmYXVsdEZpbHRlcgogICAgfSwKICAgIGl0ZW1DbGFzczogewogICAgICB0eXBlOiBbU3RyaW5nLCBGdW5jdGlvbl0sCiAgICAgIGRlZmF1bHQ6ICgpID0+ICcnCiAgICB9LAogICAgbG9hZGVySGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IDQKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnRlcm5hbEdyb3VwQnk6IFtdLAogICAgICBvcGVuQ2FjaGU6IHt9LAogICAgICB3aWR0aHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkSGVhZGVycygpIHsKICAgICAgaWYgKCF0aGlzLmhlYWRlcnMpIHJldHVybiBbXTsKICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuaGVhZGVycy5maWx0ZXIoaCA9PiBoLnZhbHVlID09PSB1bmRlZmluZWQgfHwgIXRoaXMuaW50ZXJuYWxHcm91cEJ5LmZpbmQodiA9PiB2ID09PSBoLnZhbHVlKSk7CiAgICAgIGNvbnN0IGRlZmF1bHRIZWFkZXIgPSB7CiAgICAgICAgdGV4dDogJycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHdpZHRoOiAnMXB4JwogICAgICB9OwogICAgICBpZiAodGhpcy5zaG93U2VsZWN0KSB7CiAgICAgICAgY29uc3QgaW5kZXggPSBoZWFkZXJzLmZpbmRJbmRleChoID0+IGgudmFsdWUgPT09ICdkYXRhLXRhYmxlLXNlbGVjdCcpOwogICAgICAgIGlmIChpbmRleCA8IDApIGhlYWRlcnMudW5zaGlmdCh7CiAgICAgICAgICAuLi5kZWZhdWx0SGVhZGVyLAogICAgICAgICAgdmFsdWU6ICdkYXRhLXRhYmxlLXNlbGVjdCcKICAgICAgICB9KTtlbHNlIGhlYWRlcnMuc3BsaWNlKGluZGV4LCAxLCB7CiAgICAgICAgICAuLi5kZWZhdWx0SGVhZGVyLAogICAgICAgICAgLi4uaGVhZGVyc1tpbmRleF0KICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy5zaG93RXhwYW5kKSB7CiAgICAgICAgY29uc3QgaW5kZXggPSBoZWFkZXJzLmZpbmRJbmRleChoID0+IGgudmFsdWUgPT09ICdkYXRhLXRhYmxlLWV4cGFuZCcpOwogICAgICAgIGlmIChpbmRleCA8IDApIGhlYWRlcnMudW5zaGlmdCh7CiAgICAgICAgICAuLi5kZWZhdWx0SGVhZGVyLAogICAgICAgICAgdmFsdWU6ICdkYXRhLXRhYmxlLWV4cGFuZCcKICAgICAgICB9KTtlbHNlIGhlYWRlcnMuc3BsaWNlKGluZGV4LCAxLCB7CiAgICAgICAgICAuLi5kZWZhdWx0SGVhZGVyLAogICAgICAgICAgLi4uaGVhZGVyc1tpbmRleF0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gaGVhZGVyczsKICAgIH0sCiAgICBjb2xzcGFuQXR0cnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogewogICAgICAgIGNvbHNwYW46IHRoaXMuaGVhZGVyc0xlbmd0aCB8fCB0aGlzLmNvbXB1dGVkSGVhZGVycy5sZW5ndGgKICAgICAgfTsKICAgIH0sCiAgICBjb2x1bW5Tb3J0ZXJzKCkgewogICAgICByZXR1cm4gdGhpcy5jb21wdXRlZEhlYWRlcnMucmVkdWNlKChhY2MsIGhlYWRlcikgPT4gewogICAgICAgIGlmIChoZWFkZXIuc29ydCkgYWNjW2hlYWRlci52YWx1ZV0gPSBoZWFkZXIuc29ydDsKICAgICAgICByZXR1cm4gYWNjOwogICAgICB9LCB7fSk7CiAgICB9LAogICAgaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzKCkgewogICAgICByZXR1cm4gdGhpcy5oZWFkZXJzLmZpbHRlcihoZWFkZXIgPT4gaGVhZGVyLmZpbHRlciAmJiAoIWhlYWRlci5oYXNPd25Qcm9wZXJ0eSgnZmlsdGVyYWJsZScpIHx8IGhlYWRlci5maWx0ZXJhYmxlID09PSB0cnVlKSk7CiAgICB9LAogICAgaGVhZGVyc1dpdGhvdXRDdXN0b21GaWx0ZXJzKCkgewogICAgICByZXR1cm4gdGhpcy5oZWFkZXJzLmZpbHRlcihoZWFkZXIgPT4gIWhlYWRlci5maWx0ZXIgJiYgKCFoZWFkZXIuaGFzT3duUHJvcGVydHkoJ2ZpbHRlcmFibGUnKSB8fCBoZWFkZXIuZmlsdGVyYWJsZSA9PT0gdHJ1ZSkpOwogICAgfSwKICAgIHNhbml0aXplZEhlYWRlclByb3BzKCkgewogICAgICByZXR1cm4gY2FtZWxpemVPYmplY3RLZXlzKHRoaXMuaGVhZGVyUHJvcHMpOwogICAgfSwKICAgIGNvbXB1dGVkSXRlbXNQZXJQYWdlKCkgewogICAgICBjb25zdCBpdGVtc1BlclBhZ2UgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZSA/IHRoaXMub3B0aW9ucy5pdGVtc1BlclBhZ2UgOiB0aGlzLml0ZW1zUGVyUGFnZTsKICAgICAgY29uc3QgaXRlbXNQZXJQYWdlT3B0aW9ucyA9IHRoaXMuc2FuaXRpemVkRm9vdGVyUHJvcHMuaXRlbXNQZXJQYWdlT3B0aW9uczsKICAgICAgaWYgKGl0ZW1zUGVyUGFnZU9wdGlvbnMgJiYgIWl0ZW1zUGVyUGFnZU9wdGlvbnMuZmluZChpdGVtID0+IHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJyA/IGl0ZW0gPT09IGl0ZW1zUGVyUGFnZSA6IGl0ZW0udmFsdWUgPT09IGl0ZW1zUGVyUGFnZSkpIHsKICAgICAgICBjb25zdCBmaXJzdE9wdGlvbiA9IGl0ZW1zUGVyUGFnZU9wdGlvbnNbMF07CiAgICAgICAgcmV0dXJuIHR5cGVvZiBmaXJzdE9wdGlvbiA9PT0gJ29iamVjdCcgPyBmaXJzdE9wdGlvbi52YWx1ZSA6IGZpcnN0T3B0aW9uOwogICAgICB9CiAgICAgIHJldHVybiBpdGVtc1BlclBhZ2U7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgYnJlYWtpbmdQcm9wcyA9IFtbJ3NvcnQtaWNvbicsICdoZWFkZXItcHJvcHMuc29ydC1pY29uJ10sIFsnaGlkZS1oZWFkZXJzJywgJ2hpZGUtZGVmYXVsdC1oZWFkZXInXSwgWydzZWxlY3QtYWxsJywgJ3Nob3ctc2VsZWN0J11dOwogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCiAgICBicmVha2luZ1Byb3BzLmZvckVhY2goX3JlZiA9PiB7CiAgICAgIGxldCBbb3JpZ2luYWwsIHJlcGxhY2VtZW50XSA9IF9yZWY7CiAgICAgIGlmICh0aGlzLiRhdHRycy5oYXNPd25Qcm9wZXJ0eShvcmlnaW5hbCkpIGJyZWFraW5nKG9yaWdpbmFsLCByZXBsYWNlbWVudCwgdGhpcyk7CiAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBpZiAoKCF0aGlzLnNvcnRCeSB8fCAhdGhpcy5zb3J0QnkubGVuZ3RoKSAmJiAoIXRoaXMub3B0aW9ucy5zb3J0QnkgfHwgIXRoaXMub3B0aW9ucy5zb3J0QnkubGVuZ3RoKSkgewogICAgLy8gICBjb25zdCBmaXJzdFNvcnRhYmxlID0gdGhpcy5oZWFkZXJzLmZpbmQoaCA9PiAhKCdzb3J0YWJsZScgaW4gaCkgfHwgISFoLnNvcnRhYmxlKQogICAgLy8gICBpZiAoZmlyc3RTb3J0YWJsZSkgdGhpcy51cGRhdGVPcHRpb25zKHsgc29ydEJ5OiBbZmlyc3RTb3J0YWJsZS52YWx1ZV0sIHNvcnREZXNjOiBbZmFsc2VdIH0pCiAgICAvLyB9CiAgICBpZiAodGhpcy5jYWxjdWxhdGVXaWR0aHMpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY2FsY1dpZHRocyk7CiAgICAgIHRoaXMuY2FsY1dpZHRocygpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLmNhbGN1bGF0ZVdpZHRocykgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jYWxjV2lkdGhzKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGNXaWR0aHMoKSB7CiAgICAgIHRoaXMud2lkdGhzID0gQXJyYXkuZnJvbSh0aGlzLiRlbC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpKS5tYXAoZSA9PiBlLmNsaWVudFdpZHRoKTsKICAgIH0sCiAgICBjdXN0b21GaWx0ZXJXaXRoQ29sdW1ucyhpdGVtcywgc2VhcmNoKSB7CiAgICAgIHJldHVybiBzZWFyY2hUYWJsZUl0ZW1zKGl0ZW1zLCBzZWFyY2gsIHRoaXMuaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzLCB0aGlzLmhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycywgdGhpcy5jdXN0b21GaWx0ZXIpOwogICAgfSwKICAgIGN1c3RvbVNvcnRXaXRoSGVhZGVycyhpdGVtcywgc29ydEJ5LCBzb3J0RGVzYywgbG9jYWxlKSB7CiAgICAgIHJldHVybiB0aGlzLmN1c3RvbVNvcnQoaXRlbXMsIHNvcnRCeSwgc29ydERlc2MsIGxvY2FsZSwgdGhpcy5jb2x1bW5Tb3J0ZXJzKTsKICAgIH0sCiAgICBjcmVhdGVJdGVtUHJvcHMoaXRlbSkgewogICAgICBjb25zdCBwcm9wcyA9IFZEYXRhSXRlcmF0b3Iub3B0aW9ucy5tZXRob2RzLmNyZWF0ZUl0ZW1Qcm9wcy5jYWxsKHRoaXMsIGl0ZW0pOwogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wcywgewogICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzCiAgICAgIH0pOwogICAgfSwKICAgIGdlbkNhcHRpb24ocHJvcHMpIHsKICAgICAgaWYgKHRoaXMuY2FwdGlvbikgcmV0dXJuIFt0aGlzLiRjcmVhdGVFbGVtZW50KCdjYXB0aW9uJywgW3RoaXMuY2FwdGlvbl0pXTsKICAgICAgcmV0dXJuIGdldFNsb3QodGhpcywgJ2NhcHRpb24nLCBwcm9wcywgdHJ1ZSk7CiAgICB9LAogICAgZ2VuQ29sZ3JvdXAocHJvcHMpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2NvbGdyb3VwJywgdGhpcy5jb21wdXRlZEhlYWRlcnMubWFwKGhlYWRlciA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHsKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgIGRpdmlkZXI6IGhlYWRlci5kaXZpZGVyCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBnZW5Mb2FkaW5nKCkgewogICAgICBjb25zdCB0aCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RoJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAnY29sdW1uJywKICAgICAgICBhdHRyczogdGhpcy5jb2xzcGFuQXR0cnMKICAgICAgfSwgW3RoaXMuZ2VuUHJvZ3Jlc3MoKV0pOwogICAgICBjb25zdCB0ciA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RyJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAndi1kYXRhLXRhYmxlX19wcm9ncmVzcycKICAgICAgfSwgW3RoXSk7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0aGVhZCcsIFt0cl0pOwogICAgfSwKICAgIGdlbkhlYWRlcnMocHJvcHMpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBwcm9wczogewogICAgICAgICAgLi4udGhpcy5zYW5pdGl6ZWRIZWFkZXJQcm9wcywKICAgICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzLAogICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucywKICAgICAgICAgIG1vYmlsZTogdGhpcy5pc01vYmlsZSwKICAgICAgICAgIHNob3dHcm91cEJ5OiB0aGlzLnNob3dHcm91cEJ5LAogICAgICAgICAgc29tZUl0ZW1zOiB0aGlzLnNvbWVJdGVtcywKICAgICAgICAgIGV2ZXJ5SXRlbTogdGhpcy5ldmVyeUl0ZW0sCiAgICAgICAgICBzaW5nbGVTZWxlY3Q6IHRoaXMuc2luZ2xlU2VsZWN0LAogICAgICAgICAgZGlzYWJsZVNvcnQ6IHRoaXMuZGlzYWJsZVNvcnQKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBzb3J0OiBwcm9wcy5zb3J0LAogICAgICAgICAgZ3JvdXA6IHByb3BzLmdyb3VwLAogICAgICAgICAgJ3RvZ2dsZS1zZWxlY3QtYWxsJzogdGhpcy50b2dnbGVTZWxlY3RBbGwKICAgICAgICB9CiAgICAgIH07CiAgICAgIGNvbnN0IGNoaWxkcmVuID0gW2dldFNsb3QodGhpcywgJ2hlYWRlcicsIGRhdGEpXTsKICAgICAgaWYgKCF0aGlzLmhpZGVEZWZhdWx0SGVhZGVyKSB7CiAgICAgICAgY29uc3Qgc2NvcGVkU2xvdHMgPSBnZXRQcmVmaXhlZFNjb3BlZFNsb3RzKCdoZWFkZXIuJywgdGhpcy4kc2NvcGVkU2xvdHMpOwogICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudChWRGF0YVRhYmxlSGVhZGVyLCB7CiAgICAgICAgICAuLi5kYXRhLAogICAgICAgICAgc2NvcGVkU2xvdHMKICAgICAgICB9KSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubG9hZGluZykgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkxvYWRpbmcoKSk7CiAgICAgIHJldHVybiBjaGlsZHJlbjsKICAgIH0sCiAgICBnZW5FbXB0eVdyYXBwZXIoY29udGVudCkgewogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndHInLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX2VtcHR5LXdyYXBwZXInCiAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZCcsIHsKICAgICAgICBhdHRyczogdGhpcy5jb2xzcGFuQXR0cnMKICAgICAgfSwgY29udGVudCldKTsKICAgIH0sCiAgICBnZW5JdGVtcyhpdGVtcywgcHJvcHMpIHsKICAgICAgY29uc3QgZW1wdHkgPSB0aGlzLmdlbkVtcHR5KHByb3BzLm9yaWdpbmFsSXRlbXNMZW5ndGgsIHByb3BzLnBhZ2luYXRpb24uaXRlbXNMZW5ndGgpOwogICAgICBpZiAoZW1wdHkpIHJldHVybiBbZW1wdHldOwogICAgICByZXR1cm4gcHJvcHMuZ3JvdXBlZEl0ZW1zID8gdGhpcy5nZW5Hcm91cGVkUm93cyhwcm9wcy5ncm91cGVkSXRlbXMsIHByb3BzKSA6IHRoaXMuZ2VuUm93cyhpdGVtcywgcHJvcHMpOwogICAgfSwKICAgIGdlbkdyb3VwZWRSb3dzKGdyb3VwZWRJdGVtcywgcHJvcHMpIHsKICAgICAgcmV0dXJuIGdyb3VwZWRJdGVtcy5tYXAoZ3JvdXAgPT4gewogICAgICAgIGlmICghdGhpcy5vcGVuQ2FjaGUuaGFzT3duUHJvcGVydHkoZ3JvdXAubmFtZSkpIHRoaXMuJHNldCh0aGlzLm9wZW5DYWNoZSwgZ3JvdXAubmFtZSwgdHJ1ZSk7CiAgICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmdyb3VwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHMuZ3JvdXAoewogICAgICAgICAgICBncm91cDogZ3JvdXAubmFtZSwKICAgICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucywKICAgICAgICAgICAgaXRlbXM6IGdyb3VwLml0ZW1zLAogICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzLmdlbkRlZmF1bHRHcm91cGVkUm93KGdyb3VwLm5hbWUsIGdyb3VwLml0ZW1zLCBwcm9wcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5EZWZhdWx0R3JvdXBlZFJvdyhncm91cCwgaXRlbXMsIHByb3BzKSB7CiAgICAgIGNvbnN0IGlzT3BlbiA9ICEhdGhpcy5vcGVuQ2FjaGVbZ3JvdXBdOwogICAgICBjb25zdCBjaGlsZHJlbiA9IFt0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsKICAgICAgICBzbG90OiAncm93LmNvbnRlbnQnCiAgICAgIH0sIHRoaXMuZ2VuUm93cyhpdGVtcywgcHJvcHMpKV07CiAgICAgIGNvbnN0IHRvZ2dsZUZuID0gKCkgPT4gdGhpcy4kc2V0KHRoaXMub3BlbkNhY2hlLCBncm91cCwgIXRoaXMub3BlbkNhY2hlW2dyb3VwXSk7CiAgICAgIGNvbnN0IHJlbW92ZUZuID0gKCkgPT4gcHJvcHMudXBkYXRlT3B0aW9ucyh7CiAgICAgICAgZ3JvdXBCeTogW10sCiAgICAgICAgZ3JvdXBEZXNjOiBbXQogICAgICB9KTsKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzWydncm91cC5oZWFkZXInXSkgewogICAgICAgIGNoaWxkcmVuLnVuc2hpZnQodGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7CiAgICAgICAgICBzbG90OiAnY29sdW1uLmhlYWRlcicKICAgICAgICB9LCBbdGhpcy4kc2NvcGVkU2xvdHNbJ2dyb3VwLmhlYWRlciddKHsKICAgICAgICAgIGdyb3VwLAogICAgICAgICAgZ3JvdXBCeTogcHJvcHMub3B0aW9ucy5ncm91cEJ5LAogICAgICAgICAgaXRlbXMsCiAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycywKICAgICAgICAgIGlzT3BlbiwKICAgICAgICAgIHRvZ2dsZTogdG9nZ2xlRm4sCiAgICAgICAgICByZW1vdmU6IHJlbW92ZUZuCiAgICAgICAgfSldKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgdG9nZ2xlID0gdGhpcy4kY3JlYXRlRWxlbWVudChWQnRuLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ21hLTAnLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgaWNvbjogdHJ1ZSwKICAgICAgICAgICAgc21hbGw6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogdG9nZ2xlRm4KICAgICAgICAgIH0KICAgICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudChWSWNvbiwgW2lzT3BlbiA/ICckbWludXMnIDogJyRwbHVzJ10pXSk7CiAgICAgICAgY29uc3QgcmVtb3ZlID0gdGhpcy4kY3JlYXRlRWxlbWVudChWQnRuLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ21hLTAnLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgaWNvbjogdHJ1ZSwKICAgICAgICAgICAgc21hbGw6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogcmVtb3ZlRm4KICAgICAgICAgIH0KICAgICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudChWSWNvbiwgWyckY2xvc2UnXSldKTsKICAgICAgICBjb25zdCBjb2x1bW4gPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZCcsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAndGV4dC1zdGFydCcsCiAgICAgICAgICBhdHRyczogdGhpcy5jb2xzcGFuQXR0cnMKICAgICAgICB9LCBbdG9nZ2xlLCBgJHtwcm9wcy5vcHRpb25zLmdyb3VwQnlbMF19OiAke2dyb3VwfWAsIHJlbW92ZV0pOwogICAgICAgIGNoaWxkcmVuLnVuc2hpZnQodGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7CiAgICAgICAgICBzbG90OiAnY29sdW1uLmhlYWRlcicKICAgICAgICB9LCBbY29sdW1uXSkpOwogICAgICB9CiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90c1snZ3JvdXAuc3VtbWFyeSddKSB7CiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsKICAgICAgICAgIHNsb3Q6ICdjb2x1bW4uc3VtbWFyeScKICAgICAgICB9LCBbdGhpcy4kc2NvcGVkU2xvdHNbJ2dyb3VwLnN1bW1hcnknXSh7CiAgICAgICAgICBncm91cCwKICAgICAgICAgIGdyb3VwQnk6IHByb3BzLm9wdGlvbnMuZ3JvdXBCeSwKICAgICAgICAgIGl0ZW1zLAogICAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMsCiAgICAgICAgICBpc09wZW4sCiAgICAgICAgICB0b2dnbGU6IHRvZ2dsZUZuCiAgICAgICAgfSldKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoUm93R3JvdXAsIHsKICAgICAgICBrZXk6IGdyb3VwLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB2YWx1ZTogaXNPcGVuCiAgICAgICAgfQogICAgICB9LCBjaGlsZHJlbik7CiAgICB9LAogICAgZ2VuUm93cyhpdGVtcywgcHJvcHMpIHsKICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0gPyB0aGlzLmdlblNjb3BlZFJvd3MoaXRlbXMsIHByb3BzKSA6IHRoaXMuZ2VuRGVmYXVsdFJvd3MoaXRlbXMsIHByb3BzKTsKICAgIH0sCiAgICBnZW5TY29wZWRSb3dzKGl0ZW1zLCBwcm9wcykgewogICAgICBjb25zdCByb3dzID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07CiAgICAgICAgcm93cy5wdXNoKHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0oewogICAgICAgICAgLi4udGhpcy5jcmVhdGVJdGVtUHJvcHMoaXRlbSksCiAgICAgICAgICBpbmRleDogaQogICAgICAgIH0pKTsKICAgICAgICBpZiAodGhpcy5pc0V4cGFuZGVkKGl0ZW0pKSB7CiAgICAgICAgICByb3dzLnB1c2godGhpcy4kc2NvcGVkU2xvdHNbJ2V4cGFuZGVkLWl0ZW0nXSh7CiAgICAgICAgICAgIGl0ZW0sCiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzCiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByb3dzOwogICAgfSwKICAgIGdlbkRlZmF1bHRSb3dzKGl0ZW1zLCBwcm9wcykgewogICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHNbJ2V4cGFuZGVkLWl0ZW0nXSA/IGl0ZW1zLm1hcChpdGVtID0+IHRoaXMuZ2VuRGVmYXVsdEV4cGFuZGVkUm93KGl0ZW0pKSA6IGl0ZW1zLm1hcChpdGVtID0+IHRoaXMuZ2VuRGVmYXVsdFNpbXBsZVJvdyhpdGVtKSk7CiAgICB9LAogICAgZ2VuRGVmYXVsdEV4cGFuZGVkUm93KGl0ZW0pIHsKICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IHRoaXMuaXNFeHBhbmRlZChpdGVtKTsKICAgICAgY29uc3QgY2xhc3NlcyA9IHsKICAgICAgICAndi1kYXRhLXRhYmxlX19leHBhbmRlZCB2LWRhdGEtdGFibGVfX2V4cGFuZGVkX19yb3cnOiBpc0V4cGFuZGVkCiAgICAgIH07CiAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHRoaXMuZ2VuRGVmYXVsdFNpbXBsZVJvdyhpdGVtLCBjbGFzc2VzKTsKICAgICAgY29uc3QgZXhwYW5kZWRSb3cgPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0cicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fZXhwYW5kZWQgdi1kYXRhLXRhYmxlX19leHBhbmRlZF9fY29udGVudCcKICAgICAgfSwgW3RoaXMuJHNjb3BlZFNsb3RzWydleHBhbmRlZC1pdGVtJ10oewogICAgICAgIGl0ZW0sCiAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMKICAgICAgfSldKTsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoUm93R3JvdXAsIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgdmFsdWU6IGlzRXhwYW5kZWQKICAgICAgICB9CiAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsKICAgICAgICBzbG90OiAncm93LmhlYWRlcicKICAgICAgfSwgW2hlYWRlclJvd10pLCB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsKICAgICAgICBzbG90OiAncm93LmNvbnRlbnQnCiAgICAgIH0sIFtleHBhbmRlZFJvd10pXSk7CiAgICB9LAogICAgZ2VuRGVmYXVsdFNpbXBsZVJvdyhpdGVtKSB7CiAgICAgIGxldCBjbGFzc2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgY29uc3Qgc2NvcGVkU2xvdHMgPSBnZXRQcmVmaXhlZFNjb3BlZFNsb3RzKCdpdGVtLicsIHRoaXMuJHNjb3BlZFNsb3RzKTsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY3JlYXRlSXRlbVByb3BzKGl0ZW0pOwogICAgICBpZiAodGhpcy5zaG93U2VsZWN0KSB7CiAgICAgICAgY29uc3Qgc2xvdCA9IHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLXNlbGVjdCddOwogICAgICAgIHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLXNlbGVjdCddID0gc2xvdCA/ICgpID0+IHNsb3QoZGF0YSkgOiAoKSA9PiB0aGlzLiRjcmVhdGVFbGVtZW50KFZTaW1wbGVDaGVja2JveCwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX2NoZWNrYm94JywKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHZhbHVlOiBkYXRhLmlzU2VsZWN0ZWQsCiAgICAgICAgICAgIGRpc2FibGVkOiAhdGhpcy5pc1NlbGVjdGFibGUoaXRlbSkKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBpbnB1dDogdmFsID0+IGRhdGEuc2VsZWN0KHZhbCkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy5zaG93RXhwYW5kKSB7CiAgICAgICAgY29uc3Qgc2xvdCA9IHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLWV4cGFuZCddOwogICAgICAgIHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLWV4cGFuZCddID0gc2xvdCA/ICgpID0+IHNsb3QoZGF0YSkgOiAoKSA9PiB0aGlzLiRjcmVhdGVFbGVtZW50KFZJY29uLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fZXhwYW5kLWljb24nLAogICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgJ3YtZGF0YS10YWJsZV9fZXhwYW5kLWljb24tLWFjdGl2ZSc6IGRhdGEuaXNFeHBhbmRlZAogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiBlID0+IHsKICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgIGRhdGEuZXhwYW5kKCFkYXRhLmlzRXhwYW5kZWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgW3RoaXMuZXhwYW5kSWNvbl0pOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KHRoaXMuaXNNb2JpbGUgPyBNb2JpbGVSb3cgOiBSb3csIHsKICAgICAgICBrZXk6IGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW0sIHRoaXMuaXRlbUtleSksCiAgICAgICAgY2xhc3M6IG1lcmdlQ2xhc3Nlcyh7CiAgICAgICAgICAuLi5jbGFzc2VzLAogICAgICAgICAgJ3YtZGF0YS10YWJsZV9fc2VsZWN0ZWQnOiBkYXRhLmlzU2VsZWN0ZWQKICAgICAgICB9LCBnZXRQcm9wZXJ0eUZyb21JdGVtKGl0ZW0sIHRoaXMuaXRlbUNsYXNzKSksCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzLAogICAgICAgICAgaGlkZURlZmF1bHRIZWFkZXI6IHRoaXMuaGlkZURlZmF1bHRIZWFkZXIsCiAgICAgICAgICBpdGVtLAogICAgICAgICAgcnRsOiB0aGlzLiR2dWV0aWZ5LnJ0bAogICAgICAgIH0sCiAgICAgICAgc2NvcGVkU2xvdHMsCiAgICAgICAgb246IHsKICAgICAgICAgIC8vIFRPRE86IGZvciBjbGljaywgdGhlIGZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSB0aGUgZXZlbnQsIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IHNob3VsZCBiZSBkYXRhLAogICAgICAgICAgLy8gYnV0IHRoaXMgaXMgYSBicmVha2luZyBjaGFuZ2Ugc28gaXQncyBmb3IgdjMKICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLiRlbWl0KCdjbGljazpyb3cnLCBpdGVtLCBkYXRhKSwKICAgICAgICAgIGNvbnRleHRtZW51OiBldmVudCA9PiB0aGlzLiRlbWl0KCdjb250ZXh0bWVudTpyb3cnLCBldmVudCwgZGF0YSksCiAgICAgICAgICBkYmxjbGljazogZXZlbnQgPT4gdGhpcy4kZW1pdCgnZGJsY2xpY2s6cm93JywgZXZlbnQsIGRhdGEpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5Cb2R5KHByb3BzKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgLi4ucHJvcHMsCiAgICAgICAgZXhwYW5kOiB0aGlzLmV4cGFuZCwKICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycywKICAgICAgICBpc0V4cGFuZGVkOiB0aGlzLmlzRXhwYW5kZWQsCiAgICAgICAgaXNNb2JpbGU6IHRoaXMuaXNNb2JpbGUsCiAgICAgICAgaXNTZWxlY3RlZDogdGhpcy5pc1NlbGVjdGVkLAogICAgICAgIHNlbGVjdDogdGhpcy5zZWxlY3QKICAgICAgfTsKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmJvZHkpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHMuYm9keShkYXRhKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGJvZHknLCBbZ2V0U2xvdCh0aGlzLCAnYm9keS5wcmVwZW5kJywgZGF0YSwgdHJ1ZSksIHRoaXMuZ2VuSXRlbXMocHJvcHMuaXRlbXMsIHByb3BzKSwgZ2V0U2xvdCh0aGlzLCAnYm9keS5hcHBlbmQnLCBkYXRhLCB0cnVlKV0pOwogICAgfSwKICAgIGdlbkZvb3RlcnMocHJvcHMpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBwcm9wczogewogICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucywKICAgICAgICAgIHBhZ2luYXRpb246IHByb3BzLnBhZ2luYXRpb24sCiAgICAgICAgICBpdGVtc1BlclBhZ2VUZXh0OiAnJHZ1ZXRpZnkuZGF0YVRhYmxlLml0ZW1zUGVyUGFnZVRleHQnLAogICAgICAgICAgLi4udGhpcy5zYW5pdGl6ZWRGb290ZXJQcm9wcwogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgICd1cGRhdGU6b3B0aW9ucyc6IHZhbHVlID0+IHByb3BzLnVwZGF0ZU9wdGlvbnModmFsdWUpCiAgICAgICAgfSwKICAgICAgICB3aWR0aHM6IHRoaXMud2lkdGhzLAogICAgICAgIGhlYWRlcnM6IHRoaXMuY29tcHV0ZWRIZWFkZXJzCiAgICAgIH07CiAgICAgIGNvbnN0IGNoaWxkcmVuID0gW2dldFNsb3QodGhpcywgJ2Zvb3RlcicsIGRhdGEsIHRydWUpXTsKICAgICAgaWYgKCF0aGlzLmhpZGVEZWZhdWx0Rm9vdGVyKSB7CiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLiRjcmVhdGVFbGVtZW50KFZEYXRhRm9vdGVyLCB7CiAgICAgICAgICAuLi5kYXRhLAogICAgICAgICAgc2NvcGVkU2xvdHM6IGdldFByZWZpeGVkU2NvcGVkU2xvdHMoJ2Zvb3Rlci4nLCB0aGlzLiRzY29wZWRTbG90cykKICAgICAgICB9KSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGNoaWxkcmVuOwogICAgfSwKICAgIGdlbkRlZmF1bHRTY29wZWRTbG90KHByb3BzKSB7CiAgICAgIGNvbnN0IHNpbXBsZVByb3BzID0gewogICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsCiAgICAgICAgZml4ZWRIZWFkZXI6IHRoaXMuZml4ZWRIZWFkZXIsCiAgICAgICAgZGVuc2U6IHRoaXMuZGVuc2UKICAgICAgfTsgLy8gaWYgKHRoaXMudmlydHVhbFJvd3MpIHsKICAgICAgLy8gICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChWVmlydHVhbFRhYmxlLCB7CiAgICAgIC8vICAgICBwcm9wczogT2JqZWN0LmFzc2lnbihzaW1wbGVQcm9wcywgewogICAgICAvLyAgICAgICBpdGVtczogcHJvcHMuaXRlbXMsCiAgICAgIC8vICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsCiAgICAgIC8vICAgICAgIHJvd0hlaWdodDogdGhpcy5kZW5zZSA/IDI0IDogNDgsCiAgICAgIC8vICAgICAgIGhlYWRlckhlaWdodDogdGhpcy5kZW5zZSA/IDMyIDogNDgsCiAgICAgIC8vICAgICAgIC8vIFRPRE86IGV4cG9zZSByZXN0IG9mIHByb3BzIGZyb20gdmlydHVhbCB0YWJsZT8KICAgICAgLy8gICAgIH0pLAogICAgICAvLyAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgLy8gICAgICAgaXRlbXM6ICh7IGl0ZW1zIH0pID0+IHRoaXMuZ2VuSXRlbXMoaXRlbXMsIHByb3BzKSBhcyBhbnksCiAgICAgIC8vICAgICB9LAogICAgICAvLyAgIH0sIFsKICAgICAgLy8gICAgIHRoaXMucHJveHlTbG90KCdib2R5LmJlZm9yZScsIFt0aGlzLmdlbkNhcHRpb24ocHJvcHMpLCB0aGlzLmdlbkhlYWRlcnMocHJvcHMpXSksCiAgICAgIC8vICAgICB0aGlzLnByb3h5U2xvdCgnYm90dG9tJywgdGhpcy5nZW5Gb290ZXJzKHByb3BzKSksCiAgICAgIC8vICAgXSkKICAgICAgLy8gfQoKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoVlNpbXBsZVRhYmxlLCB7CiAgICAgICAgcHJvcHM6IHNpbXBsZVByb3BzCiAgICAgIH0sIFt0aGlzLnByb3h5U2xvdCgndG9wJywgZ2V0U2xvdCh0aGlzLCAndG9wJywgcHJvcHMsIHRydWUpKSwgdGhpcy5nZW5DYXB0aW9uKHByb3BzKSwgdGhpcy5nZW5Db2xncm91cChwcm9wcyksIHRoaXMuZ2VuSGVhZGVycyhwcm9wcyksIHRoaXMuZ2VuQm9keShwcm9wcyksIHRoaXMucHJveHlTbG90KCdib3R0b20nLCB0aGlzLmdlbkZvb3RlcnMocHJvcHMpKV0pOwogICAgfSwKICAgIHByb3h5U2xvdChzbG90LCBjb250ZW50KSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsKICAgICAgICBzbG90CiAgICAgIH0sIGNvbnRlbnQpOwogICAgfQogIH0sCiAgcmVuZGVyKCkgewogICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoVkRhdGEsIHsKICAgICAgcHJvcHM6IHsKICAgICAgICAuLi50aGlzLiRwcm9wcywKICAgICAgICBjdXN0b21GaWx0ZXI6IHRoaXMuY3VzdG9tRmlsdGVyV2l0aENvbHVtbnMsCiAgICAgICAgY3VzdG9tU29ydDogdGhpcy5jdXN0b21Tb3J0V2l0aEhlYWRlcnMsCiAgICAgICAgaXRlbXNQZXJQYWdlOiB0aGlzLmNvbXB1dGVkSXRlbXNQZXJQYWdlCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgJ3VwZGF0ZTpvcHRpb25zJzogKHYsIG9sZCkgPT4gewogICAgICAgICAgdGhpcy5pbnRlcm5hbEdyb3VwQnkgPSB2Lmdyb3VwQnkgfHwgW107CiAgICAgICAgICAhZGVlcEVxdWFsKHYsIG9sZCkgJiYgdGhpcy4kZW1pdCgndXBkYXRlOm9wdGlvbnMnLCB2KTsKICAgICAgICB9LAogICAgICAgICd1cGRhdGU6cGFnZSc6IHYgPT4gdGhpcy4kZW1pdCgndXBkYXRlOnBhZ2UnLCB2KSwKICAgICAgICAndXBkYXRlOml0ZW1zLXBlci1wYWdlJzogdiA9PiB0aGlzLiRlbWl0KCd1cGRhdGU6aXRlbXMtcGVyLXBhZ2UnLCB2KSwKICAgICAgICAndXBkYXRlOnNvcnQtYnknOiB2ID0+IHRoaXMuJGVtaXQoJ3VwZGF0ZTpzb3J0LWJ5JywgdiksCiAgICAgICAgJ3VwZGF0ZTpzb3J0LWRlc2MnOiB2ID0+IHRoaXMuJGVtaXQoJ3VwZGF0ZTpzb3J0LWRlc2MnLCB2KSwKICAgICAgICAndXBkYXRlOmdyb3VwLWJ5JzogdiA9PiB0aGlzLiRlbWl0KCd1cGRhdGU6Z3JvdXAtYnknLCB2KSwKICAgICAgICAndXBkYXRlOmdyb3VwLWRlc2MnOiB2ID0+IHRoaXMuJGVtaXQoJ3VwZGF0ZTpncm91cC1kZXNjJywgdiksCiAgICAgICAgcGFnaW5hdGlvbjogKHYsIG9sZCkgPT4gIWRlZXBFcXVhbCh2LCBvbGQpICYmIHRoaXMuJGVtaXQoJ3BhZ2luYXRpb24nLCB2KSwKICAgICAgICAnY3VycmVudC1pdGVtcyc6IHYgPT4gewogICAgICAgICAgdGhpcy5pbnRlcm5hbEN1cnJlbnRJdGVtcyA9IHY7CiAgICAgICAgICB0aGlzLiRlbWl0KCdjdXJyZW50LWl0ZW1zJywgdik7CiAgICAgICAgfSwKICAgICAgICAncGFnZS1jb3VudCc6IHYgPT4gdGhpcy4kZW1pdCgncGFnZS1jb3VudCcsIHYpCiAgICAgIH0sCiAgICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgICAgZGVmYXVsdDogdGhpcy5nZW5EZWZhdWx0U2NvcGVkU2xvdAogICAgICB9CiAgICB9KTsKICB9Cn0pOw=="},null]}